<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet id="maciejgz-cms-product" author="maciejgz">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="cms_product"/>
            </not>
        </preConditions>
        <sql>
            CREATE TABLE public.cms_product
            (
                id               int8 NOT NULL,
                description      varchar(5000) NULL,
                stock_product_id int8 NULL,
                title            varchar(255) NULL,
                CONSTRAINT cms_product_pkey PRIMARY KEY (id)
            );
        </sql>
    </changeSet>
    <changeSet id="maciejgz-cms-product-translations" author="maciejgz">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="cms_product_translation"/>
            </not>
        </preConditions>
        <sql>
            CREATE TABLE public.cms_product_translation
            (
                id             bigserial NOT NULL,
                description    varchar(255) NULL,
                "language"     varchar(255) NULL,
                cms_product_id int8 NULL,
                title          varchar(255) NULL,
                CONSTRAINT cms_product_translation_pkey PRIMARY KEY (id),
                CONSTRAINT cms_product_translation_fk FOREIGN KEY (cms_product_id) REFERENCES public.cms_product(id)
            );
        </sql>
    </changeSet>
</databaseChangeLog>